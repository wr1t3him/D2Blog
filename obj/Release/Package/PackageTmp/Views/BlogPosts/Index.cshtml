@using PagedList;
@using PagedList.Mvc;

@model IPagedList<D2Blog.Models.BlogPost>


                <div class="col-md-8 blog-main">
                    <div class="row">
                        @foreach (var item in Model)
                        {
                            <div class="col-md-6 col-sm-6">
                                <article class=" blog-teaser">
                                    <header>
                                        <img src="~/Tales_template/HTML/img/cat.png" />
                                        <h3><a href="blog-detail.html">@item.Title</a></h3>
                                        <span class="meta">@item.Created.ToString("dd MMM yyyy") , Wilten Houston</span>
                                        <hr>
                                    </header>
                                    <div class="body">
                                        @Html.Raw(item.Body)
                                    </div>
                                    <div class="clearfix">

                                        @Html.ActionLink("Read More", "Details", new { Slug = item.Slug }, new { @class = "btn btn-tales-one" })
                                        @if ((User.Identity.IsAuthenticated) && (User.IsInRole("Admin") || (User.IsInRole("Moderator"))))
                                        {
                                            @Html.ActionLink("Edit", "Edit", new { id = item.id })

                                            @Html.ActionLink("Delete", "Delete", new { id = item.id })
                                        }
                                    </div>
                                </article>
                            </div>
                        }
                        Page @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber)
                        of @Model.PageCount @Html.PagedListPager(Model, page => Url.Action("Index", new { page }))

                        </div>
</div>
